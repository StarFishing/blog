(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{308:function(e,t,n){"use strict";n.r(t);var a=n(39),s=Object(a.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"å¯Œæ–‡æœ¬åŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¯Œæ–‡æœ¬åŸç†","aria-hidden":"true"}},[e._v("#")]),e._v(" å¯Œæ–‡æœ¬åŸç†")]),e._v(" "),n("h2",{attrs:{id:"ç¼˜èµ·"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç¼˜èµ·","aria-hidden":"true"}},[e._v("#")]),e._v(" ç¼˜èµ·")]),e._v(" "),n("p",[e._v("æœ€è¿‘äº§å“æƒ³è®©æˆ‘åœ¨å¯Œæ–‡æœ¬é‡ŒåŠ ä¸ªæ—‹è½¬å›¾ç‰‡çš„åŠŸèƒ½ï¼Œæˆ‘ä¸€æƒ³ ğŸ¤”ï¼Œå°±è§‰å¾—äº‹æƒ…å¹¶ä¸ç®€å•ï¼Œå› ä¸ºå°è±¡ä¸­å¥½åƒæ²¡è§è¿‡è¿™ç§æ“ä½œã€‚æœç„¶ï¼Œç»è¿‡ä¸€ç•ªç™¾åº¦ä¹‹åï¼Œç¡®å®æ²¡æ€ä¹ˆçœ‹åˆ°ç›¸å…³ä¿¡æ¯ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€è¦è‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿäº† ğŸ˜¢ã€‚ä½†æˆ‘è‡ªå·±å¯¹å¯Œæ–‡æœ¬åˆæ²¡ä»€ä¹ˆäº†è§£ï¼Œæ‰€ä»¥é¡ºå¸¦ç¨å¾®çœ‹äº†ä¸‹å¯Œæ–‡æœ¬çš„å®ç°æ–¹å¼ï¼Œç‰¹æ­¤æ¥æ²‰æ·€ä¸€ä¸‹ï¼Œè¿˜æ˜¯é‚£å¥è¯ä¸å–œå‹¿å–·å“ˆ ğŸ™„ã€‚\nokï¼Œè¿™é‡Œå…ˆç®€è¦è¯´ä¸‹ä¸ºä»€ä¹ˆä¼šæœ‰å¯Œæ–‡æœ¬è¿™ç§ä¸œè¥¿å§ ğŸ¤“ï¼å¤§æ¦‚å¯èƒ½ä¹Ÿè®¸æ˜¯å› ä¸ºæœ‰ä¸€å¤©äº§å“ç”¨ç€ç”¨ç€ "),n("code",[e._v("textarea")]),e._v(" æ„Ÿè§‰å¤ªå•è°ƒäº†ï¼Œå•çº¯çš„æ–‡å­—å·²ç»æ— æ³•è¡¨è¾¾ä»–ä»¬å†…å¿ƒçš„éœ€æ±‚ ğŸ¤¯ï¼Œäºæ˜¯å°±æƒ³æ¥ç‚¹æ ·å¼ï¼Œé¡ºä¾¿åŠ ä¸ªå›¾ç‰‡ï¼Œæ¥ç¯‡å›¾æ–‡å¹¶èŒ‚çš„æ–‡ç« ï¼Œå°±åƒå°å‹ Word é‚£æ ·ï¼Œå°±å†å¥½ä¸è¿‡äº†ï¼äºæ˜¯å¯Œæ–‡æœ¬å°±è¿™æ ·è¯ç”Ÿäº†ï¼Œå¼€å‘è€…ä»¬ä¹Ÿçº·çº·å¼€å§‹äº†è¸©å‘ä¹‹æ—… ğŸ•³ğŸ•³ğŸ•³ã€‚")]),e._v(" "),n("h2",{attrs:{id:"å‰ç½®çŸ¥è¯†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç½®çŸ¥è¯†","aria-hidden":"true"}},[e._v("#")]),e._v(" å‰ç½®çŸ¥è¯†")]),e._v(" "),n("p",[e._v("å¥½äº†ï¼Œäº¤ä»£å®Œäº†èƒŒæ™¯ï¼Œè®©æˆ‘ä»¬å…ˆè¡¥å……ä¸€äº›åŸºç¡€çŸ¥è¯†å§ï¼Œä¸æ‡‚çš„è¯·åŠ¡å¿…ä¸è¦è·³è¿‡ ğŸ§ï¼")]),e._v(" "),n("h3",{attrs:{id:"contenteditable-å±æ€§"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#contenteditable-å±æ€§","aria-hidden":"true"}},[e._v("#")]),e._v(" contenteditable å±æ€§")]),e._v(" "),n("p",[e._v("å‡å¦‚æˆ‘ä»¬ç»™ä¸€ä¸ªæ ‡ç­¾åŠ ä¸Š "),n("code",[e._v('contenteditable="true"')]),e._v(" çš„å±æ€§ï¼Œå°±åƒè¿™æ ·ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<div contenteditable="true"></div>\nå¤åˆ¶ä»£ç \n')])])]),n("p",[e._v("é‚£ä¹ˆåœ¨è¿™ä¸ª "),n("code",[e._v("div")]),e._v(" ä¸­æˆ‘ä»¬å°±å¯ä»¥å¯¹å…¶è¿›è¡Œä»»æ„ç¼–è¾‘äº†ã€‚å¦‚æœæƒ³è¦æ’å…¥çš„å­èŠ‚ç‚¹ä¸å¯ç¼–è¾‘ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå­èŠ‚ç‚¹çš„å±æ€§è®¾ç½®ä¸º "),n("code",[e._v('contenteditable="false"')]),e._v(" å³å¯ï¼Œå°±åƒè¿™æ ·ï¼š")]),e._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("div")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("contenteditable")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("true"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("è¿™æ˜¯å¯ç¼–è¾‘çš„"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("p")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("contenteditable")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("false"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("è¿™æ˜¯ä¸å¯ç¼–è¾‘çš„"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("è¯¥å±æ€§æœ€æ—©æ˜¯åœ¨ IE ä¸Šå®ç°çš„ï¼ˆå‰å®³å“¦ ğŸ‘ï¼‰ï¼Œä¸”å¯ä»¥ä½œç”¨äºå…¶å®ƒæ ‡ç­¾ï¼Œä¸é™äº "),n("code",[e._v("div")]),e._v("ï¼Œå¤§å®¶åº”è¯¥æˆ–å¤šæˆ–å°‘éƒ½å¬è¯´è¿‡è¿™ä¸ªå±æ€§ã€‚")]),e._v(" "),n("h3",{attrs:{id:"document-execcommand-æ–¹æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#document-execcommand-æ–¹æ³•","aria-hidden":"true"}},[e._v("#")]),e._v(" document.execCommand æ–¹æ³•")]),e._v(" "),n("p",[e._v("æ—¢ç„¶æˆ‘ä»¬å¯ä»¥å¯¹ä¸Šé¢çš„ "),n("code",[e._v("div")]),e._v(" éšæ„ç¼–è¾‘ï¼Œé‚£å…·ä½“æ€ä¹ˆç¼–è¾‘å‘¢ï¼Œç›®å‰å¥½åƒä¹Ÿè¿˜æ˜¯åªèƒ½è¾“å…¥æ–‡æœ¬ï¼Œè¦æ€æ ·æ‰èƒ½è¿›è¡Œå…¶ä»–æ“ä½œå‘¢ï¼ˆæ¯”å¦‚åŠ ç²—ã€å€¾æ–œã€æ’å…¥å›¾ç‰‡ç­‰ç­‰ï¼‰ğŸ¤”ï¼Ÿå…¶å®æµè§ˆå™¨ç»™æˆ‘ä»¬æä¾›äº†è¿™æ ·çš„ä¸€ä¸ªæ–¹æ³• "),n("code",[e._v("document.execCommand")]),e._v("ï¼Œé€šè¿‡å®ƒæˆ‘ä»¬å°±èƒ½å¤Ÿæ“çºµä¸Šé¢çš„å¯ç¼–è¾‘åŒºã€‚å…·ä½“è¯­æ³•å¦‚ä¸‹ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// document.execCommand(å‘½ä»¤åç§°ï¼Œæ˜¯å¦å±•ç¤ºç”¨æˆ·ç•Œé¢ï¼Œå‘½ä»¤éœ€è¦çš„é¢å¤–å‚æ•°)\ndocument.execCommand(aCommandName, aShowDefaultUI, aValueArgument)\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("å…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ä¸€äº›å‘½ä»¤åç§°ï¼Œå…·ä½“çš„å¯ä»¥æŸ¥çœ‹ MDNï¼›ç¬¬äºŒä¸ªå‚æ•°å†™æ­»ä¸º "),n("code",[e._v("false")]),e._v(" å°±è¡Œäº†ï¼Œå› ä¸ºæ—©å‰ IE æœ‰è¿™æ ·ä¸€ä¸ªå‚æ•°ï¼Œä¸ºäº†å…¼å®¹å§ï¼Œä¸è¿‡è¿™ä¸ªå‚æ•°åœ¨ç°ä»£æµè§ˆå™¨ä¸­æ˜¯æ²¡æœ‰å½±å“çš„ï¼›ç¬¬ä¸‰ä¸ªå‚æ•°å°±æ˜¯ä¸€äº›å‘½ä»¤å¯èƒ½éœ€è¦é¢å¤–çš„å‚æ•°ï¼Œæ¯”å¦‚æ’å…¥å›¾ç‰‡å°±è¦å¤šä¼ ä¸ª "),n("code",[e._v("url")]),e._v(" æˆ– "),n("code",[e._v("base64")]),e._v(" çš„å‚æ•°ï¼Œæ²¡æœ‰çš„è¯ä¼ ä¸ª "),n("code",[e._v("null")]),e._v(" å°±è¡Œã€‚\næˆ‘ä»¬ç®€è¦åˆ—ä¸¾ä¸‹å®ƒçš„å‡ ä¸ªä½¿ç”¨æ–¹å¼ï¼Œå¤§å®¶å°±çŸ¥é“æ€ä¹ˆç”¨äº† ğŸ‘‡ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// åŠ ç²—\ndocument.execCommand('bold', false, null);\n// æ·»åŠ å›¾ç‰‡\ndocument.execCommand('insertImage', false, url || base64);\n// æŠŠä¸€æ®µæ–‡å­—ç”¨ p æ ‡ç­¾åŒ…è£¹èµ·æ¥\ndocument.execCommand('formatblock', false, '<p>');\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("è¿™ä¸ªå‘½ä»¤å°±æ˜¯å¯Œæ–‡æœ¬çš„æ ¸å¿ƒï¼ˆæ‰€ä»¥åŠ¡å¿…è®°ä½ï¼‰ï¼Œæµè§ˆå™¨æŠŠå¤§éƒ¨åˆ†æˆ‘ä»¬èƒ½æƒ³åˆ°çš„åŠŸèƒ½ä¹Ÿéƒ½å®ç°äº†ï¼Œå½“ç„¶å„æµè§ˆå™¨ä¹‹é—´è¿˜æ˜¯æœ‰å·®å¼‚çš„ï¼Œè¿™é‡Œå°±ä¸è€ƒè™‘äº†ã€‚")]),e._v(" "),n("h3",{attrs:{id:"selection-å’Œ-range-å¯¹è±¡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#selection-å’Œ-range-å¯¹è±¡","aria-hidden":"true"}},[e._v("#")]),e._v(" Selection å’Œ Range å¯¹è±¡")]),e._v(" "),n("p",[e._v("æˆ‘ä»¬åœ¨æ‰§è¡Œ "),n("code",[e._v("document.execCommand")]),e._v(" è¿™ä¸ªå‘½ä»¤ä¹‹å‰é¦–å…ˆè¦çŸ¥é“å¯¹è°æ‰§è¡Œï¼Œæ‰€ä»¥è¿™é‡Œä¼šæœ‰ä¸€ä¸ªé€‰åŒºçš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯ "),n("code",[e._v("Selection")]),e._v(" å¯¹è±¡ï¼Œå®ƒç”¨æ¥è¡¨ç¤ºç”¨æˆ·é€‰æ‹©çš„èŒƒå›´æˆ–å…‰æ ‡ä½ç½®ï¼ˆå…‰æ ‡å¯ä»¥çœ‹åšæ˜¯èŒƒå›´é‡åˆçš„ç‰¹æ®ŠçŠ¶æ€ï¼‰ï¼Œä¸€ä¸ªé¡µé¢ç”¨æˆ·å¯èƒ½é€‰æ‹©å¤šä¸ªèŒƒå›´ï¼ˆæ¯”å¦‚ Firefoxï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ "),n("code",[e._v("Selection")]),e._v(" åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª "),n("code",[e._v("Range")]),e._v(" å¯¹è±¡ï¼ˆ"),n("code",[e._v("Selection")]),e._v(" å¯ä»¥è¯´æ˜¯ "),n("code",[e._v("Range")]),e._v(" çš„é›†åˆï¼‰ï¼Œå½“ç„¶å¯¹äºå¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªä¼šæœ‰ä¸€ä¸ªé€‰æ‹©åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª "),n("code",[e._v("Range")]),e._v(" å¯¹è±¡ï¼Œäº‹å®ä¸Šå¤§éƒ¨åˆ†æƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤ã€‚\næ‰€ä»¥é€šå¸¸æˆ‘ä»¬å¯ä»¥ç”¨ "),n("code",[e._v("let range = window.getSelection().getRangeAt(0)")]),e._v(" æ¥è·å–é€‰ä¸­çš„å†…å®¹ä¿¡æ¯ï¼ˆ"),n("code",[e._v("getRangeAt")]),e._v(" æ¥å—ä¸€ä¸ªç´¢å¼•å€¼ï¼Œå› ä¸ºä¼šæœ‰å¤šä¸ª "),n("code",[e._v("Range")]),e._v("ï¼Œè€Œç°åœ¨åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥å†™ 0ï¼‰ã€‚\nçœ‹å¾—ä¸€å¤´é›¾æ°´ ğŸ˜´ï¼Ÿæ²¡å…³ç³»ï¼Œçœ‹ä¸‹é¢ä¸¤å¼ å›¾å°±æ‡‚äº† ğŸ˜®ï¼š")]),e._v(" "),n("p",[e._v('![img](data:image/svg+xml;utf8,<?xml version="1.0"?>'),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"1280",height:"496"}}),e._v(")")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/6/18/16b6a1a61fa6f471?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:"img"}})]),e._v(" "),n("p",[e._v("ä¸€å¥è¯è¯´å°±æ˜¯ï¼šé€šè¿‡ä¸Šé¢é‚£å¥å‘½ä»¤æˆ‘ä»¬èƒ½å¤Ÿè·å–åˆ°å½“å‰çš„é€‰ä¸­ä¿¡æ¯ï¼Œä¸€èˆ¬ä¼šå…ˆä¿å­˜ä¸‹æ¥ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™è¿˜åŸã€‚æ­¤å¤– "),n("code",[e._v("Selection")]),e._v(" å¯¹è±¡è¿˜æœ‰å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼Œ"),n("code",[e._v("addRange")]),e._v("ã€"),n("code",[e._v("removeAllRanges")]),e._v("ã€"),n("code",[e._v("collapse")]),e._v(" å’Œ "),n("code",[e._v("collapseToEnd")]),e._v(" ç­‰ç­‰ã€‚\nè¿™ä¸ªçŸ¥è¯†ç‚¹æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºå®ƒè®©æˆ‘ä»¬æœ‰äº†æ“çºµå…‰æ ‡çš„èƒ½åŠ›ï¼ˆæ¯”å¦‚æ’å…¥å†…å®¹ä¹‹åè®¾ç½®å…‰æ ‡çš„ä½ç½®ï¼‰ï¼Œä¸è¿‡è¿™ç¯‡æ–‡ç« ä¸­æˆ‘å¹¶æ²¡æœ‰å»æ·±å…¥å®ƒï¼Œåªæ˜¯æµ…å‡º ğŸ˜ã€‚")]),e._v(" "),n("h2",{attrs:{id:"ç›®æ ‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç›®æ ‡","aria-hidden":"true"}},[e._v("#")]),e._v(" ç›®æ ‡")]),e._v(" "),n("p",[e._v("å¼€ç¯‡ä¸€é¡¿æ‰¯ï¼Œä¸‹é¢è®©æˆ‘ä»¬æŠ“ç´§æ—¶é—´åšä¸€ä¸ªå±äºè‡ªå·±çš„å¯Œæ–‡æœ¬å§ ğŸ’ªï¼Œå¤§æ¦‚ä¼šåŒ…å«ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ï¼šåŠ ç²—ã€æ®µè½ã€H1ã€æ°´å¹³çº¿ã€æ— åºåˆ—è¡¨ã€æ’å…¥é“¾æ¥ã€æ’å…¥å›¾ç‰‡ã€åé€€ä¸€æ­¥ã€å‘å‰ä¸€æ­¥ç­‰ç­‰ã€‚ğŸ†—ï¼ŒLet's do it!")]),e._v(" "),n("h3",{attrs:{id:"èµ·æ­¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#èµ·æ­¥","aria-hidden":"true"}},[e._v("#")]),e._v(" èµ·æ­¥")]),e._v(" "),n("p",[e._v("é¦–å…ˆä¸€ä¸ªå¯Œæ–‡æœ¬å¤§ä½“åˆ†ä¸ºä¸¤ä¸ªåŒºåŸŸï¼Œä¸€ä¸ªæ˜¯æŒ‰é’®åŒºï¼Œä¸€ä¸ªæ˜¯ç¼–è¾‘åŒºã€‚æ‰€ä»¥å®ƒçš„å¤§è‡´ç»“æ„å°±åƒä¸‹é¢è¿™æ ·ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<template>\n    <div class="xr-editor">\n        \x3c!--æŒ‰é’®åŒº--\x3e\n        <div class="nav">\n            <button>åŠ ç²—</button>\n            ...\n        </div>\n        \x3c!--ç¼–è¾‘åŒº--\x3e\n        <div class="editor" contenteditable="true"></div>\n    </div>\n</template>\n\x3c!--å…¨éƒ¨æ ·å¼å°±è¿™äº›ï¼Œè¿™é‡Œå°±éƒ½å…ˆç»™å‡ºæ¥äº†--\x3e\n<style lang="scss">\n.xr-editor {\n  margin: 50px auto;\n  width: 1000px;\n  .nav {\n    display: flex;\n    button {\n      cursor: pointer;\n    }\n    &__img {\n      position: relative;\n      input {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        left: 0;\n        top: 0;\n        opacity: 0;\n      }\n    }\n  }\n  .row {\n    display: flex;\n    width: 100%;\n    height: 300px;\n  }\n  .editor {\n    flex: 1;\n    position: relative;\n    margin-right: 20px;\n    padding: 10px;\n    outline: none;\n    border: 1px solid #000;\n    overflow-y: scroll;\n    img {\n      max-width: 300px;\n      max-height: 300px;\n      vertical-align: middle;\n    }\n  }\n  .content {\n    flex: 1;\n    border: 1px solid #000;\n    word-break: break-all;\n    word-wrap: break-word;\n    overflow: scroll;\n  }\n}\n</style>\nå¤åˆ¶ä»£ç \n')])])]),n("p",[e._v("å—¯ï¼Œèµ·æ­¥å·¥ä½œåˆ°æ­¤ç»“æŸï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥å¼€å§‹å®ç°åŠŸèƒ½äº† ğŸ˜¬ã€‚")]),e._v(" "),n("h3",{attrs:{id:"åŠ ç²—"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åŠ ç²—","aria-hidden":"true"}},[e._v("#")]),e._v(" åŠ ç²—")]),e._v(" "),n("p",[e._v("ç°åœ¨å‡å¦‚æˆ‘ä»¬è¦å®ç°åŠ ç²—çš„æ•ˆæœï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåªè¦åœ¨ç‚¹å‡»åŠ ç²—æŒ‰é’®çš„æ—¶å€™æ‰§è¡Œ "),n("code",[e._v("document.execCommand('bold', false, null)")]),e._v(" è¿™å¥è¯ï¼Œå°±èƒ½è¾¾åˆ°åŠ ç²—çš„æ•ˆæœï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("<template>\n    <div class=\"nav\">\n        <button @click=\"execCommand\">åŠ ç²—</button>\n    </div>\n    ...\n</template>\n<script>\nexport default {\n  name: 'XrEditor',\n  methods: {\n    execCommand() {\n      document.execCommand('bold', false, null);\n    }\n  }\n};\n<\/script>\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("è®©æˆ‘ä»¬è¿è¡Œä¸€ä¸‹çœ‹çœ‹æ•ˆæœï¼š")]),e._v(" "),n("p",[e._v('![img](data:image/svg+xml;utf8,<?xml version="1.0"?>'),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"352",height:"420"}}),e._v(")")]),e._v(" "),n("p",[e._v("å—¯ï¼Œæ˜¯çš„ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•çš„ä¸€å¥è¯å°±èƒ½æå®š ğŸ˜’ã€‚\nå½“ç„¶äº†ï¼Œæˆ‘ä»¬å¼€ç¯‡ä¹Ÿè¯´äº†æˆ‘ä»¬çš„ä¸€åˆ‡å‘½ä»¤éƒ½æ˜¯åŸºäº "),n("code",[e._v("document.execCommand")]),e._v(" çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå°å°æ”¹å†™ä¸€ä¸‹ä¸Šé¢ä»£ç ä¸­çš„ "),n("code",[e._v("execCommand")]),e._v(" æ–¹æ³•ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("<template>\n    <div class=\"nav\">\n        <button @click=\"execCommand('bold')\">åŠ ç²—</button>\n    </div>\n    ...\n</template>\n<script>\nexport default {\n  name: 'XrEditor',\n  methods: {\n    execCommand(name, args = null) {\n    \tdocument.execCommand(name, false, args);\n    }\n  }\n};\n<\/script>\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("è¿™æ ·ä¸€æ¥ä»£ç å°±æ›´å…·é€šç”¨æ€§äº†ã€‚å®ç°åˆ—è¡¨ã€æ°´å¹³çº¿ã€å‰è¿›ã€åé€€åŠŸèƒ½å’ŒåŠ ç²—æ˜¯ä¸€æ ·æ ·çš„ï¼Œåªéœ€ä¼ å…¥ä¸åŒçš„å‘½ä»¤åå³å¯ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€èµ˜è¿°äº†ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("<button @click=\"execCommand('insertUnorderedList')\">æ— åºåˆ—è¡¨</button>\n<button @click=\"execCommand('insertHorizontalRule')\">æ°´å¹³çº¿</button>\n<button @click=\"execCommand('undo')\">åé€€</button>\n<button @click=\"execCommand('redo')\">å‰è¿›</button>\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("é¡ºå¸¦ç»™å¤§å®¶è¯´å‡ ä¸ªæ³¨æ„ç‚¹ âœï¸ï¼š")]),e._v(" "),n("ol",[n("li",[e._v("æœ‰çš„åŒå­¦å¯èƒ½ç”¨çš„ä¸æ˜¯ "),n("code",[e._v("button")]),e._v(" æ ‡ç­¾ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤å°±ä¼šæ— æ•ˆï¼Œæ˜¯å› ä¸ºç‚¹å‡»å…¶ä»–æ ‡ç­¾å¤§å¤šéƒ½ä¼šé€ æˆå…ˆå¤±å»ç„¦ç‚¹ï¼ˆæˆ–è€…ä¸çŸ¥ä¸è§‰å°±çªç„¶å¤±å»ç„¦ç‚¹äº†ï¼‰ï¼Œå†æ‰§è¡Œç‚¹å‡»äº‹ä»¶ï¼Œæ­¤æ—¶æ²¡æœ‰é€‰åŒºæˆ–å…‰æ ‡æ‰€ä»¥ä¼šæ²¡æœ‰æ•ˆæœï¼Œè¿™ç‚¹è¦ç•™æ„ä¸€ä¸‹ã€‚")]),e._v(" "),n("li",[e._v("æˆ‘ä»¬æ‰§è¡Œçš„æ˜¯åŸç”Ÿçš„ "),n("code",[e._v("document.execCommand")]),e._v(" æ–¹æ³•ï¼Œæµè§ˆå™¨è‡ªèº«ä¼šå¯¹ "),n("code",[e._v("contenteditable")]),e._v(" è¿™ä¸ªå¯ç¼–è¾‘åŒºç»´æŠ¤ä¸€ä¸ª "),n("code",[e._v("undo")]),e._v(" æ ˆå’Œä¸€ä¸ª "),n("code",[e._v("redo")]),e._v(" æ ˆï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰èƒ½æ‰§è¡Œå‰è¿›å’Œåé€€çš„æ“ä½œï¼Œå¦‚æœæˆ‘ä»¬æ”¹å†™äº†åŸç”Ÿæ–¹æ³•ï¼Œå°±ä¼šç ´ååŸæœ‰çš„æ ˆç»“æ„ï¼Œè¿™æ—¶å°±éœ€è¦è‡ªå·±å»ç»´æŠ¤ï¼Œé‚£å°±éº»çƒ¦äº†ã€‚")]),e._v(" "),n("li",[n("code",[e._v("style")]),e._v(" é‡Œé¢å¦‚æœåŠ ä¸Š "),n("code",[e._v("scope")]),e._v(" çš„è¯ï¼Œé‡Œé¢çš„æ ·å¼å¯¹ç¼–è¾‘åŒºçš„å†…å®¹æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œå› ä¸ºç¼–è¾‘åŒºé‡Œé¢æ˜¯åæ¥æ‰åˆ›å»ºçš„å…ƒç´ ï¼Œæ‰€ä»¥è¦ä¹ˆåˆ äº† "),n("code",[e._v("scope")]),e._v("ï¼Œè¦ä¹ˆç”¨ "),n("code",[e._v("/deep/")]),e._v(" è§£å†³ï¼ˆVue æ˜¯è¿™æ ·ï¼‰ã€‚")])]),e._v(" "),n("h3",{attrs:{id:"æ®µè½"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ®µè½","aria-hidden":"true"}},[e._v("#")]),e._v(" æ®µè½")]),e._v(" "),n("p",[e._v("è¿™ä¸ªåŠŸèƒ½å°±æ˜¯æŠŠå…‰æ ‡æ‰€åœ¨è¡Œçš„æ–‡å­—ç”¨ "),n("code",[e._v("p")]),e._v(" æ ‡ç­¾åŒ…è£¹èµ·æ¥ï¼Œä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿ï¼Œæˆ‘ä»¬é¡ºä¾¿æŠŠç¼–è¾‘åŒºçš„ "),n("code",[e._v("html")]),e._v(" ç»“æ„æ‰“å°å‡ºæ¥ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç¨å¾®æ”¹ä¸€ä¸‹ä»£ç ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<template>\n    <div class="xr-editor">\n        <div class="nav">\n            <button @click="execCommand(\'bold\')">åŠ ç²—</button>\n            <button @click="execCommand(\'formatBlock\', \'<p>\')">æ®µè½</button>\n        </div>\n        <div class="row">\n            <div class="editor" contenteditable="true" @input="print"></div>\n            <div class="content">{{ html }}</div>\n        </div>\n    </div>\n</template>\n<script>\nexport default {\n  name: \'XrEditor\',\n  data() {\n    return {\n      html: \'\'\n    };\n  },\n  methods: {\n    execCommand(name, args = null) {\n      document.execCommand(name, false, args);\n    },\n    print() {\n      this.html = document.querySelector(\'.editor\').innerHTML;\n    }\n  }\n};\n<\/script>\nå¤åˆ¶ä»£ç \n')])])]),n("p",[e._v("è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š")]),e._v(" "),n("p",[e._v('![img](data:image/svg+xml;utf8,<?xml version="1.0"?>'),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"419",height:"236"}}),e._v(")")]),e._v(" "),n("p",[e._v("æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¾ˆ easyï¼ŒåŒç†ï¼Œ"),n("code",[e._v("h1")]),e._v(" ~ "),n("code",[e._v("h6")]),e._v(" ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå‘½ä»¤ä¸º "),n("code",[e._v("execCommand('formatBlock', '')")]),e._v("ï¼Œä¹Ÿä¸èµ˜è¿°äº†ã€‚")]),e._v(" "),n("h3",{attrs:{id:"æ’å…¥é“¾æ¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ’å…¥é“¾æ¥","aria-hidden":"true"}},[e._v("#")]),e._v(" æ’å…¥é“¾æ¥")]),e._v(" "),n("p",[e._v("è¿™ä¸ªåŠŸèƒ½å› ä¸ºéœ€è¦ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä¼šç»™ä¸ªæç¤ºæ¡†è·å–ç”¨æˆ·è¾“å…¥ï¼Œç„¶åå†æ‰§è¡Œ "),n("code",[e._v("execCommand('createLink', é“¾æ¥åœ°å€)")]),e._v("ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("<button @click=\"createLink\">é“¾æ¥</button>\nå¤åˆ¶ä»£ç \ncreateLink() {\n  let url = window.prompt('è¯·è¾“å…¥é“¾æ¥åœ°å€');\n  if (url) this.execCommand('createLink', url);\n}\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("æ•ˆæœå¦‚ä¸‹ï¼š")]),e._v(" "),n("p",[e._v('![img](data:image/svg+xml;utf8,<?xml version="1.0"?>'),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"420",height:"258"}}),e._v(")")]),e._v(" "),n("p",[e._v("æ’å…¥å›¾ç‰‡é“¾æ¥ä¹Ÿæ˜¯å¼‚æ›²åŒå·¥ï¼Œåªä¸è¿‡å‘½ä»¤åä¸ä¸€æ ·è€Œå·²ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("insertImgLink() {\n    let url = window.prompt('è¯·è¾“å…¥å›¾ç‰‡åœ°å€');\n    if (url) this.execCommand('insertImage', url);\n}\nå¤åˆ¶ä»£ç \n")])])]),n("h3",{attrs:{id:"æ’å…¥å›¾ç‰‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ’å…¥å›¾ç‰‡","aria-hidden":"true"}},[e._v("#")]),e._v(" æ’å…¥å›¾ç‰‡")]),e._v(" "),n("p",[e._v("å›¾ç‰‡é™¤äº†å¯ä»¥é€šè¿‡æ·»åŠ åœ°å€çš„å½¢å¼å¤–ï¼Œè¿˜å¯ä»¥æ·»åŠ  base64 æ ¼å¼çš„å›¾ç‰‡ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡ "),n("code",[e._v("readAsDataURL(file)")]),e._v(" æ¥è¯»å–å›¾ç‰‡ï¼Œå¹¶æ‰§è¡Œ "),n("code",[e._v("execCommand('insertImage', base64)")]),e._v(" å°±å¤§åŠŸå‘Šæˆå•¦ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼Œå¹¶ä¸å¤æ‚ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<button class="nav__img">æ’å…¥å›¾ç‰‡\n    \x3c!--è¿™ä¸ª input æ˜¯éšè—çš„--\x3e\n    <input type="file" accept="image/gif, image/jpeg, image/png" @change="insertImg">\n</button>\nå¤åˆ¶ä»£ç \ninsertImg(e) {\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.onload = () => {\n        let base64Img = reader.result;\n        this.execCommand(\'insertImage\', base64Img);\n        document.querySelector(\'.nav__img input\').value = \'\'; // è§£å†³åŒä¸€å¼ å›¾ç‰‡ä¸Šä¼ æ— æ•ˆçš„é—®é¢˜\n    };\n    reader.readAsDataURL(file);\n}\nå¤åˆ¶ä»£ç \n')])])]),n("p",[e._v("è¿è¡Œä¸€ä¸‹ï¼Œçœ‹çœ‹æ•ˆæœï¼š")]),e._v(" "),n("p",[e._v('![img](data:image/svg+xml;utf8,<?xml version="1.0"?>'),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"420",height:"263"}}),e._v(")")]),e._v(" "),n("p",[e._v("è¿™åº”è¯¥ä¹Ÿä¸æ˜¯å¾ˆéš¾ã€‚å½“ç„¶äº†ï¼Œä½ ä¹Ÿå¯ä»¥å…ˆä¸Šä¼ åˆ°æœåŠ¡å™¨å¤„ç†è¿”å› "),n("code",[e._v("url")]),e._v(" åœ°å€å†æ’å…¥ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\nğŸ‘Œ è‡³æ­¤ï¼Œä¸€ä¸ªç®€æ˜“ç‰ˆçš„å¯Œæ–‡æœ¬å°±å®Œæˆäº†ï¼ˆå½“ç„¶äº† bug ä¹Ÿæ˜¯æœ‰çš„ ğŸ¤­ï¼Œä¸è¿‡å¹¶ä¸å¦¨ç¢æˆ‘ä»¬ç†è§£ï¼‰ï¼Œå…·ä½“ä»£ç å¯ä»¥å‚è€ƒ npm ä¸Šçš„ "),n("code",[e._v("pell")]),e._v(" åŒ…ï¼Œå®ƒå·²ç»æ˜¯ä¸ªæç®€ç‰ˆçš„äº†ã€‚")]),e._v(" "),n("h2",{attrs:{id:"è¿›é˜¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¿›é˜¶","aria-hidden":"true"}},[e._v("#")]),e._v(" è¿›é˜¶")]),e._v(" "),n("p",[e._v("å…¶å®å¯Œæ–‡æœ¬å¯¹æ–‡æœ¬çš„æ“ä½œå¤§å¤šéƒ½å¯ä»¥ç”¨åŸç”Ÿå‘½ä»¤æ¥å®ç°ï¼Œä½†æ˜¯å¯¹å›¾ç‰‡çš„æ“ä½œä¹Ÿè®¸å°±ä¸é‚£ä¹ˆå®¹æ˜“äº†ï¼Œæ¥ä¸ªæ‹‰ä¼¸ã€æ—‹è½¬å•¥çš„å°±å¤Ÿæˆ‘ä»¬æŠ˜è…¾äº† ğŸ¤¨ï¼Œæ‰€ä»¥è¿™é‡Œä»¥å›¾ç‰‡æ‹‰ä¼¸ä¸ºä¾‹å­ç€é‡è®²è§£ä¸€ä¸‹ã€‚")]),e._v(" "),n("h3",{attrs:{id:"å›¾ç‰‡æ‹‰ä¼¸"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å›¾ç‰‡æ‹‰ä¼¸","aria-hidden":"true"}},[e._v("#")]),e._v(" å›¾ç‰‡æ‹‰ä¼¸")]),e._v(" "),n("p",[e._v("æˆ‘ä»¬å…ˆçœ‹ä¸‹å¤§è‡´æ•ˆæœï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å…ˆåœä¸‹æ¥æ€è€ƒä¸€åˆ†é’Ÿçœ‹çœ‹å¦‚ä½•å®ç° ğŸ¤”ï¼š")]),e._v(" "),n("p",[e._v('![img](data:image/svg+xml;utf8,<?xml version="1.0"?>'),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"419",height:"255"}}),e._v(")")]),e._v(" "),n("p",[e._v("ğŸ‘Œï¼Œé¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“çš„æ˜¯å›¾ç‰‡å·²ç»åœ¨ç¼–è¾‘åŒºäº†ï¼Œæ‰€ä»¥å½“ç”¨æˆ·ç‚¹å‡»ç¼–è¾‘åŒºé‡Œé¢çš„å›¾ç‰‡æ—¶æˆ‘ä»¬éœ€è¦åšäº›äº‹ä»¶ç›‘å¬å¹¶æœ‰æ‰€å¤„ç†ï¼Œå…·ä½“æ€è·¯å¦‚ä¸‹ï¼ˆè¿™éƒ¨åˆ†ä»£ç è¾ƒå¤šï¼Œä¸æƒ³çœ‹çš„å¯ä»¥ç•¥è¿‡ï¼Œä½†æ ‡é¢˜è¦çœ‹ï¼‰ï¼š")]),e._v(" "),n("h4",{attrs:{id:"_1-åˆ¤æ–­ç”¨æˆ·ç‚¹å‡»çš„æ˜¯å¦æ˜¯ç¼–è¾‘åŒºé‡Œé¢çš„å›¾ç‰‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆ¤æ–­ç”¨æˆ·ç‚¹å‡»çš„æ˜¯å¦æ˜¯ç¼–è¾‘åŒºé‡Œé¢çš„å›¾ç‰‡","aria-hidden":"true"}},[e._v("#")]),e._v(" 1. åˆ¤æ–­ç”¨æˆ·ç‚¹å‡»çš„æ˜¯å¦æ˜¯ç¼–è¾‘åŒºé‡Œé¢çš„å›¾ç‰‡")]),e._v(" "),n("p",[e._v("è¿™ä¸ªå°±æ˜¯çœ‹ç‚¹å‡»äº‹ä»¶ "),n("code",[e._v("e.target.tagName")]),e._v(" æ˜¯ä¸æ˜¯ "),n("code",[e._v("img")]),e._v(" æ ‡ç­¾äº†ï¼Œä»£ç å¦‚ä¸‹ï¼Œåº”è¯¥æ¯”è¾ƒç®€å•ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("mounted() {\n    this.editor = document.querySelector('.editor');\n    this.editor.addEventListener('click', this.handleClick);\n},\nmethods: {\n    handleClick(e) {\n        if (\n            e.target &&\n            e.target.tagName &&\n            e.target.tagName.toUpperCase() === 'IMG'\n        ) {\n            this.handleClickImg(e.target);\n        }\n    }\n}\nå¤åˆ¶ä»£ç \n")])])]),n("h4",{attrs:{id:"_2-åœ¨ç‚¹å‡»çš„å›¾ç‰‡ä¸Šåˆ›å»ºä¸ªå¤§å°ä¸€æ ·çš„-div"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-åœ¨ç‚¹å‡»çš„å›¾ç‰‡ä¸Šåˆ›å»ºä¸ªå¤§å°ä¸€æ ·çš„-div","aria-hidden":"true"}},[e._v("#")]),e._v(" 2. åœ¨ç‚¹å‡»çš„å›¾ç‰‡ä¸Šåˆ›å»ºä¸ªå¤§å°ä¸€æ ·çš„ div")]),e._v(" "),n("p",[e._v("å¦‚æœç‚¹å‡»çš„æ˜¯ä¸€ä¸ªå›¾ç‰‡ï¼Œé‚£æˆ‘ä»¬å°±åˆ›å»ºä¸€ä¸ª "),n("code",[e._v("div")]),e._v(" ï¼Œæš‚ä¸”æŠŠè¿™ä¸ª "),n("code",[e._v("div")]),e._v(" å«åšè’™å±‚å§ï¼Œé¡ºä¾¿å…ˆçœ‹å¼ ç¤ºæ„å›¾ï¼š")]),e._v(" "),n("p",[e._v('![img](data:image/svg+xml;utf8,<?xml version="1.0"?>'),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"656",height:"818"}}),e._v(")")]),e._v(" "),n("p",[e._v("ä¹Ÿå°±æ˜¯åŠ¨æ€åˆ›å»ºä¸€ä¸ªè’™å±‚ï¼ˆå’Œå›¾ç‰‡ä¸€æ ·å¤§å°ï¼‰ä»¥åŠå››ä¸ªæ‹–æ‹½é¡¶ç‚¹ï¼Œå¹¶å®šä½åˆ°å’Œå›¾ç‰‡ä¸€æ ·çš„ä½ç½®ï¼Œä»£ç å¦‚ä¸‹ï¼ˆä»£ç æœ‰ç‚¹å¤šï¼Œå¯è·³è¿‡ï¼ŒçŸ¥é“å¤§è‡´æ„æ€å°±è¡Œ ğŸ˜¬ï¼‰ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("handleClickImg(img) {\n    this.nowImg = img;\n    this.showOverlay();\n}\nshowOverlay() {\n    // æ·»åŠ è’™å±‚\n    this.overlay = document.createElement('div');\n    this.editor.appendChild(this.overlay);\n    // å®šä½è’™å±‚å’Œå¤§å°\n    this.repositionOverlay();\n},\nrepositionOverlay() {\n    let imgRect = this.nowImg.getBoundingClientRect();\n    let editorRect = this.editor.getBoundingClientRect();\n    // è®¾ç½®è’™å±‚å®½é«˜å’Œä½ç½®\n    Object.assign(this.overlay.style, {\n        position: 'absolute',\n        top: `${imgRect.top - editorRect.top + this.editor.scrollTop}px`,\n        left: `${imgRect.left -\n          editorRect.left -\n          1 +\n          this.editor.scrollLeft}px`,\n        width: `${imgRect.width}px`,\n        height: `${imgRect.height}px`,\n        boxSizing: 'border-box',\n        border: '1px dashed red'\n    });\n    // æ·»åŠ å››ä¸ªé¡¶ç‚¹æ‹–æ‹½æ¡†\n    this.createBox();\n},\ncreateBox() {\n    this.boxes = [];\n    this.addBox('nwse-resize'); // top left\n    this.addBox('nesw-resize'); // top right\n    this.addBox('nwse-resize'); // bottom right\n    this.addBox('nesw-resize'); // bottom left\n    this.positionBoxes(); // è®¾ç½®å››ä¸ªæ‹–æ‹½æ¡†ä½ç½®\n},\naddBox(cursor) {\n    const box = document.createElement('div');\n    Object.assign(box.style, {\n        position: 'absolute',\n        height: '12px',\n        width: '12px',\n        backgroundColor: 'white',\n        border: '1px solid #777',\n        boxSizing: 'border-box',\n        opacity: '0.80'\n    });\n    box.style.cursor = cursor;\n    box.addEventListener('mousedown', this.handleMousedown);  // é¡ºä¾¿æ·»åŠ äº‹ä»¶\n    this.overlay.appendChild(box);\n    this.boxes.push(box);\n},\npositionBoxes() {\n    let handleXOffset = `-6px`;\n    let handleYOffset = `-6px`;\n    [{ left: handleXOffset, top: handleYOffset },\n    { right: handleXOffset, top: handleYOffset },\n    { right: handleXOffset, bottom: handleYOffset },\n    { left: handleXOffset, bottom: handleYOffset }].forEach((pos, idx) => {\n        Object.assign(this.boxes[idx].style, pos);\n    });\n},\nå¤åˆ¶ä»£ç \n")])])]),n("h4",{attrs:{id:"_3-åœ¨å››ä¸ªé¡¶ç‚¹æ¡†ä¸Šæ·»åŠ æ‹–æ‹½äº‹ä»¶"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-åœ¨å››ä¸ªé¡¶ç‚¹æ¡†ä¸Šæ·»åŠ æ‹–æ‹½äº‹ä»¶","aria-hidden":"true"}},[e._v("#")]),e._v(" 3. åœ¨å››ä¸ªé¡¶ç‚¹æ¡†ä¸Šæ·»åŠ æ‹–æ‹½äº‹ä»¶")]),e._v(" "),n("p",[e._v("è¿™é‡Œæˆ‘ä»¬ä¼šåœ¨å››ä¸ªé¡¶ç‚¹ç›‘å¬ "),n("code",[e._v("mousedown")]),e._v(" äº‹ä»¶ï¼ŒæŒ‰ä¸‹é¼ æ ‡æ—¶ï¼Œé¦–å…ˆä¼šæ”¹å˜é¼ æ ‡æ ·å¼ï¼ˆå°±æ˜¯é¼ æ ‡ä¼šå˜æˆè°ƒæ•´å¤§å°çš„é‚£ç§å›¾æ ‡ï¼‰ï¼Œç„¶åç›‘å¬ "),n("code",[e._v("mousemove")]),e._v(" å’Œ "),n("code",[e._v("mouseup")]),e._v(" äº‹ä»¶ï¼Œè®¡ç®—å‡ºæ°´å¹³æ‹–æ‹½è·ç¦»ï¼Œç„¶åé‡æ–°è®¾ç½®å›¾ç‰‡å¤§å°å’Œæµ®å±‚å¤§å°ï¼Œå¤§æ¦‚è¿™ä¹ˆä¸ªæ„æ€ï¼Œç®€è¦ä»£ç å¦‚ä¸‹ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("handleMousedown(e) {\n    this.dragBox = e.target;\n    this.dragStartX = e.clientX;\n    this.preDragWidth = this.nowImg.width;\n    this.setCursor(this.dragBox.style.cursor);\n    document.addEventListener('mousemove', this.handleDrag);\n    document.addEventListener('mouseup', this.handleMouseup);\n},\nhandleDrag(e) {\n    // è®¡ç®—æ°´å¹³æ‹–åŠ¨è·ç¦»\n    const deltaX = e.clientX - this.dragStartX;\n    // ä¿®æ”¹å›¾ç‰‡å¤§å°\n    if (this.dragBox === this.boxes[0] || this.dragBox ===     this.boxes[3]) { // å·¦è¾¹çš„ä¸¤ä¸ªæ¡†\n        this.nowImg.width = Math.round(this.preDragWidth - deltaX);\n    } else { // å³è¾¹çš„ä¸¤ä¸ªæ¡†\n        this.nowImg.width = Math.round(this.preDragWidth + deltaX);\n    }\n    // åŒæ—¶ä¿®æ”¹è’™å±‚å¤§å°\n    this.repositionOverlay();\n},\nhandleMouseup() {\n    this.setCursor('');\n    // æ‹–æ‹½ç»“æŸç§»é™¤äº‹ä»¶ç›‘å¬\n    document.removeEventListener('mousemove', this.handleDrag);\n    document.removeEventListener('mouseup', this.handleMouseup);\n},\nsetCursor(value) {\n    // è®¾ç½®é¼ æ ‡æ ·å¼\n    [document.body, this.nowImg].forEach(el => {\n        el.style.cursor = value;\n    });\n}\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("å½“ç„¶é—®é¢˜è¿˜æ˜¯æœ‰çš„ï¼Œä¸è¿‡æˆ‘ä»¬çŸ¥é“è¿™ä¸ªæ€è·¯å°±è¡Œã€‚å…·ä½“ä»£ç å¯ä»¥å»çœ‹ä¸‹ npm ä¸Šçš„ "),n("code",[e._v("quill-image-resize-module")]),e._v(" åŒ…ï¼Œæˆ‘ä¹Ÿæ˜¯æŒ‰ç…§è¿™ä¸ªåŒ…çš„æ€è·¯æ¥è®²è§£çš„ ğŸ˜‚ã€‚ã€‚ã€‚")]),e._v(" "),n("h3",{attrs:{id:"æ“çºµå…‰æ ‡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ“çºµå…‰æ ‡","aria-hidden":"true"}},[e._v("#")]),e._v(" æ“çºµå…‰æ ‡")]),e._v(" "),n("p",[e._v("é™¤äº†ä¸å¥½å¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†å¤–ï¼Œå…‰æ ‡åº”è¯¥ä¹Ÿæ˜¯ä¸€å¤§å‘ï¼Œä½ å¯èƒ½ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å°±å¤±å»ç„¦ç‚¹äº†ï¼Œæ­¤æ—¶å†ç‚¹å‡»æŒ‰é’®æ‰§è¡Œå‘½ä»¤å°±æ— æ•ˆäº†ï¼›æœ‰æ—¶ä½ åˆéœ€è¦è¿˜åŸæˆ–è®¾ç½®å…‰æ ‡çš„ä½ç½®ï¼Œæ¯”å¦‚æ’å…¥å›¾ç‰‡åï¼Œå…‰æ ‡è¦è®¾ç½®åˆ°å›¾ç‰‡åé¢ç­‰ç­‰ä¹‹ç±»çš„ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦å…·æœ‰æ§åˆ¶å…‰æ ‡çš„èƒ½åŠ›ï¼Œå…·ä½“æ“ä½œå°±æ˜¯åœ¨ç‚¹å‡»æŒ‰é’®ä¹‹å‰æˆ‘ä»¬å¯ä»¥å…ˆå­˜å‚¨å½“å‰å…‰æ ‡çš„çŠ¶æ€ï¼Œæ‰§è¡Œå®Œå‘½ä»¤æˆ–è€…åœ¨éœ€è¦çš„æ—¶å€™åå†è¿˜åŸæˆ–è®¾ç½®å…‰æ ‡çš„çŠ¶æ€å³å¯ã€‚ç”±äºåœ¨ chrome ä¸­ï¼Œå¤±å»ç„¦ç‚¹å¹¶ä¸ä¼šæ¸…é™¤ "),n("code",[e._v("Seleciton")]),e._v(" å¯¹è±¡å’Œ "),n("code",[e._v("Range")]),e._v(" å¯¹è±¡ï¼Œæ‰€ä»¥å°±åƒæˆ‘ä¸€å¼€å§‹è¯´çš„æˆ‘æ²¡æ€ä¹ˆå»äº†è§£ ğŸ™„ã€‚ã€‚ã€‚è¿™é‡Œå°±åªç®€è¦å±•ç¤ºä¸¤ä¸ªæ–¹æ³•ç»™å¤§å®¶çœ‹ä¸‹ï¼š")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("function saveSelection() { // ä¿å­˜å½“å‰Rangeå¯¹è±¡\n    let selection = window.getSelection();\n    if(selection.rangeCount > 0){\n        return sel.getRangeAt(0);\n    }\n    return null;\n};\nlet selectedRange = saveSelection();\nfunction restoreSelection() {\n    let selection = window.getSelection();\n    if (selectedRange) {\n        selection.removeAllRanges();  // æ¸…ç©ºæ‰€æœ‰ Range å¯¹è±¡\n        selection.addRange(selectedRange); // æ¢å¤ä¿å­˜çš„ Range\n    }\n}\nå¤åˆ¶ä»£ç \n")])])]),n("p",[e._v("ä»¥ä¸Šå°±æ˜¯ä»Šå¤©æ‰€è¦åˆ†äº«çš„å†…å®¹ï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¤§èµæ— ç–† ğŸ‘€ ã€‚ã€‚ã€‚ã€‚")]),e._v(" "),n("h2",{attrs:{id:"ç»“è¯­"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­","aria-hidden":"true"}},[e._v("#")]),e._v(" ç»“è¯­")]),e._v(" "),n("p",[e._v("å›åˆ°å¼€å¤´æˆ‘ä»¬è®²çš„é‚£ä¸ªéœ€æ±‚ï¼Œå…³äºå›¾ç‰‡æ—‹è½¬çš„ï¼Œæ ¹æ®ä¸Šé¢çš„æ€è·¯ï¼Œä½ å¯ä»¥åœ¨è’™å±‚ä¸ŠåŠ ä¸ªæ—‹è½¬å›¾æ ‡ï¼Œå¹¶æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œç„¶åä¿®æ”¹å›¾ç‰‡å’Œè’™å±‚ "),n("code",[e._v("transform")]),e._v(" å±æ€§ï¼Œå½“ç„¶äº†ä½ç½®ä¹Ÿè¦å˜ï¼Œå¯èƒ½éœ€è¦äº›è®¡ç®—ï¼Œæˆ‘ä¹Ÿæ²¡è¯•è¿‡ï¼Œä¸çŸ¥é“æ•ˆæœå’‹æ · ğŸ˜‚ã€‚\nå¦å¤–ä¸€ç§æ–¹æ³•å°±æ˜¯åœ¨æ’å…¥å›¾ç‰‡ä¹‹å‰å…ˆå¯¹å›¾ç‰‡è¿›è¡Œå¤„ç†ï¼ˆæ¯”å¦‚å¤šä¸€æ­¥ç±»ä¼¼è£å‰ªçš„åŠŸèƒ½ï¼‰å†ä¸Šä¼ ï¼Œè¿™æ ·å°±å¯ä»¥ä¸ç”¨åœ¨ç¼–è¾‘åŒºé‡Œé¢å¤„ç†å›¾ç‰‡å•¦ï¼Œå˜¿å˜¿ï¼Œç›®å‰æˆ‘å°±æƒ³åˆ°è¿™ä¸¤ç§æ–¹æ¡ˆäº†ï¼Œå®é™…å·¥ä½œä¸­é‡‡ç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºäº§å“çš„éœ€æ±‚ä¸æ­¢äºæ—‹è½¬ ğŸ˜­ã€‚\næœ€åçš„æœ€åï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•æ¥å¯¹å›¾ç‰‡æˆ–å†…å®¹è¿›è¡Œå¤„ç†ï¼Œæ¬¢è¿åœ¨ä¸‹é¢ç•™è¨€æ¢è®¨ï¼ŒSee youğŸ‘‹ã€‚\n"),n("Valine")],1)])},[],!1,null,null,null);t.default=s.exports}}]);